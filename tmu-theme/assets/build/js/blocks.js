(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".tmu-movie-metadata").forEach(function(e){var t=e.querySelector(".movie-title");t&&t.addEventListener("click",function(){var t,o;(t=e.dataset.movieId)&&fetch("/wp-json/tmu/v1/track/movie/"+t,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":(null===(o=tmuBlocks)||void 0===o?void 0:o.nonce)||""},body:JSON.stringify({action:"view",timestamp:Date.now()})}).catch(function(e){console.error("Error tracking movie view:",e)})});var o=e.querySelector(".movie-poster img");o&&o.addEventListener("load",function(){this.classList.add("loaded")})}),document.querySelectorAll(".tmu-tv-series-metadata").forEach(function(e){var t=e.querySelector(".tv-series-title");t&&t.addEventListener("click",function(){var t,o;(t=e.dataset.seriesId)&&fetch("/wp-json/tmu/v1/track/tv/"+t,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":(null===(o=tmuBlocks)||void 0===o?void 0:o.nonce)||""},body:JSON.stringify({action:"view",timestamp:Date.now()})}).catch(function(e){console.error("Error tracking TV series view:",e)})})}),document.querySelectorAll(".tmu-tv-episode-metadata").forEach(function(e){var t=e.querySelector(".episode-title");t&&t.addEventListener("click",function(){var t,o;(t=e.dataset.episodeId)&&fetch("/wp-json/tmu/v1/track/episode/"+t,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":(null===(o=tmuBlocks)||void 0===o?void 0:o.nonce)||""},body:JSON.stringify({action:"view",timestamp:Date.now()})}).catch(function(e){console.error("Error tracking episode view:",e)})});var o=e.querySelector(".episode-still img");o&&o.addEventListener("load",function(){this.classList.add("loaded")})}),document.querySelectorAll(".tmu-people-metadata").forEach(function(e){var t=e.querySelector(".people-name");t&&t.addEventListener("click",function(){var t,o;(t=e.dataset.personId)&&fetch("/wp-json/tmu/v1/track/person/"+t,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":(null===(o=tmuBlocks)||void 0===o?void 0:o.nonce)||""},body:JSON.stringify({action:"view",timestamp:Date.now()})}).catch(function(e){console.error("Error tracking person view:",e)})})}),console.log("TMU Blocks frontend initialized")})})();